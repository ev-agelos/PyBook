{% extends 'base.html' %}

{% block title %}Add bookmark{% endblock title %}

{% block content %}
<form method="POST" class="col s12">
    {{ form.csrf_token }}
    {% if form.category.errors %}
        {% for error in form.category.errors %}
            {{ error }}
        {% endfor %}
    {% endif %}
    <div class="row">
        <div class="input-field col s6 offset-s3">
            {{form.url}}
            <label for={{form.url.id}}>{{form.url.label.text}}</label>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s5 offset-s3">
            {{form.title}}
            <label for={{form.title.id}} id="{{form.title.id}}Label">{{form.title.label.text}}</label>
        </div>
        <div class="input-field col s1">
            <button type="button" class="btn btn-flat right" onClick="suggest()">Suggest</button>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s3 offset-s3">
            {{form.category}}
            <label id="{{form.category.id}}Label" for={{form.category.id}}>{{form.category.label.text}}</label>
        </div>
        <div class="input-field col s3">
            <select onchange="set_category()" id="category_list">
                <option disabled value="" selected>Choose category</option>
                {% for category in category_list %}
                <option value={{category.name}}>{{category.name}}</option>
                {%endfor%}
            </select>
        </div>
    </div>

    <div class="row">
    <div class="col s12 center-align">
        <button class="btn waves-effect waves-light"  type="submit" name="action">Add</button>
    </div>
    </div>
</form>

{% endblock content %}

{% block scripts %}
<script type="text/javascript" src="{{ url_for('static', filename='/js/suggest_title.js')}}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='/js/set_category.js')}}"></script>
<script>$(document).ready(function(){$('select').material_select();});</script>
{% endblock scripts %}
